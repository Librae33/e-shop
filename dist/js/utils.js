var utils=function(){function listToArray(e){if(flag)return Array.prototype.slice.call(e,0);for(var t=[],n=0;n<e.length;n++)t[t.length]=e[n];return t}function formatJSON(jsonStr){return"JSON"in window?JSON.parse(jsonStr):eval("("+jsonStr+")")}function offset(e){for(var t=e.offsetLeft,n=e.offsetTop,r=e.offsetParent;r;)-1===navigator.userAgent.indexOf("MSIE 8")&&(t+=r.clientLeft,n+=r.clientTop),t+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;return{left:t,top:n}}function win(e,t){if(void 0===t)return document.documentElement[e]||document.body[e];document.documentElement[e]=t,document.body[e]=t}function children(e,t){var n=[];if(flag)n=this.listToArray(e.children);else{for(var r=e.childNodes,s=0,i=r.length;s<i;s++){var l=r[s];1===l.nodeType&&(n[n.length]=l)}r=null}if("string"==typeof t)for(var o=0;o<n.length;o++)n[o].nodeName.toLowerCase()!==t.toLowerCase()&&(n.splice(o,1),o--);return n}function prev(e){if(flag)return e.previousElementSibling;for(var t=e.previousSibling;t&&1!==t.nodeType;)t=t.previousSibling;return t}function next(e){if(flag)return e.nextElementSibling;for(var t=e.nextSibling;t&&1!==t.nodeType;)t=t.nextSibling;return t}function prevAll(e){for(var t=[],n=this.prev(e);n;)t.unshift(n),n=this.prev(n);return t}function nextAll(e){for(var t=[],n=this.next(e);n;)t.push(n),n=this.next(n);return t}function sibling(e){var t=this.prev(e),n=this.next(e),r=[];return t&&r.push(t),n&&r.push(n),r}function siblings(e){return this.prevAll(e).concat(this.nextAll(e))}function index(e){return this.prevAll(e).length}function firstChild(e){var t=this.children(e);return t.length>0?t[0]:null}function lastChild(e){var t=this.children(e);return t.length>0?t[t.length-1]:null}function append(e,t){t.appendChild(e)}function prepend(e,t){var n=this.firstChild(t);n?t.insertBefore(e,n):t.appendChild(e)}function insertBefore(e,t){t.parentNode.insertBefore(e,t)}function insertAfter(e,t){var n=this.next(t);n?t.parentNode.insertBefore(e,n):t.parentNode.appendChild(e)}function hasClass(e,t){return new RegExp("(^| +)"+t+"( +|$)").test(e.className)}function addClass(e,t){for(var n=t.replace(/(^ +| +$)/g,"").split(/ +/g),r=0,s=n.length;r<s;r++){var i=n[r];this.hasClass(e,i)||(e.className+=" "+i)}}function removeClass(e,t){for(var n=t.replace(/(^ +| +$)/g,"").split(/ +/g),r=0,s=n.length;r<s;r++){var i=n[r];if(this.hasClass(e,i)){var l=new RegExp("(^| +)"+i+"( +|$)","g");e.className=e.className.replace(l," ")}}}function getElementsByClass(e,t){if(t=t||document,flag)return this.listToArray(t.getElementsByClassName(e));for(var n=[],r=e.replace(/(^ +| +$)/g,"").split(/ +/g),s=t.getElementsByTagName("*"),i=0,l=s.length;i<l;i++){for(var o=s[i],a=!0,f=0;f<r.length;f++)if(!new RegExp("(^| +)"+r[f]+"( +|$)").test(o.className)){a=!1;break}a&&(n[n.length]=o)}return n}function getCss(e){var t=null,n=null;return flag?t=window.getComputedStyle(this,null)[e]:"opacity"===e?(t=this.currentStyle.filter,t=(n=/^alpha\(opacity=(\d+(?:\.\d+)?)\)$/).test(t)?n.exec(t)[1]/100:1):t=this.currentStyle[e],(n=/^(-?\d+(\.\d+)?)(px|pt|em|rem)?$/).test(t)?parseFloat(t):t}function setCss(e,t){return"float"===e?(this.style.cssFloat=t,void(this.style.styleFloat=t)):"opacity"===e?(this.style.opacity=t,void(this.style.filter="alpha(opacity="+100*t+")")):(/^(width|height|top|bottom|left|right|((margin|padding)(Top|Bottom|Left|Right)?))$/.test(e)&&(isNaN(t)||(t+="px")),void(this.style[e]=t))}function setGroupCss(e){for(var t in e)e.hasOwnProperty(t)&&setCss.call(this,t,e[t])}function css(e){var t=arguments[1],n=Array.prototype.slice.call(arguments,1);if("string"==typeof t){if(!arguments[2])return getCss.apply(e,n);setCss.apply(e,n)}"[object Object]"===(t=t||0).toString()&&setGroupCss.apply(e,n)}var flag="getComputedStyle"in window;return{win:win,offset:offset,listToArray:listToArray,formatJSON:formatJSON,children:children,prev:prev,next:next,prevAll:prevAll,nextAll:nextAll,sibling:sibling,siblings:siblings,index:index,firstChild:firstChild,lastChild:lastChild,append:append,prepend:prepend,insertBefore:insertBefore,insertAfter:insertAfter,hasClass:hasClass,addClass:addClass,removeClass:removeClass,getElementsByClass:getElementsByClass,css:css}}();